<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Product App</title>
</head>
<body>
    <input type="text" id="userid" value="" />
    <div>
        <table>
            <tr>
                <td width="60%">
                    <div>
                        <h2>Chat</h2>
                    </div>
                    <div style="border:solid;border-width:1px;border-radius:5px">
                        <p id="products" />
                    </div>
                    <div style="border:solid;border-width:1px;border-radius:5px">

                        <div><input type="text" value="" /><input type="button" value="Send" /></div>

                    </div>
                </td>
            </tr>
        </table>        
    </div>



    
   

    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    <script>
        //uri = 'http://localhost:20314/api/Chat/GetMessages/?chatid=' + '14';
        uri = 'http://localhost:20314/api/Chat/GetMessages';

        $(document).ready(function () {            
            setInterval(function () {
                // Send an AJAX request
                $.getJSON(uri)
                    .done(function (data) {
                        // On success, 'data' contains a list of products.
                        $('#products').children().remove();
                        $.each(data, function (key, item) {
                            // Add a list item for the product.
                            $('#products').append("<div class=\"chat-box-right\"><b style=\"color: blue\">" + item.SentByName + ":</b>" + item.Message + "<br /><i style=\"color: grey; font-size: 10px\">" + item.SentOnTime + "</i></div><hr/>");
                        });
                    });
            }, 1000);
            
        });
       
    </script>
</body>
</html>